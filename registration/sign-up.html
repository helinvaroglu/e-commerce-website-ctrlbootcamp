<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>CTRL+ Sign Up</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <section>
      <div class="signup">
        <div class="content">
          <h2>Sign Up</h2>
          <form class="form" id="form">
            <div class="inputBox">
              <input
                type="text"
                id="username"
                minlength="4"
                maxlength="15"
                required
              />
              <i>Username</i>
            </div>
            <div class="inputBox">
              <input type="email" id="email" required /> <i>Email</i>
            </div>
            <div class="inputBox">
              <input
                type="password"
                id="password"
                minlength="6"
                maxlength="24"
                required
              />
              <i>Password</i>
            </div>
            <div class="inputBox" onkeyup="confirmPassword()">
              <input type="password" id="confirm_password" required />
              <i>Confirm Password</i>
            </div>
            <span id="confirm_message">Passwords don't match</span>
            <div class="links">
              <a href="../index.html">Home</a>
              <a href="sign-in.html">Sign In</a>
            </div>
            <div class="inputBox">
              <div
                class="btn"
                id="sign_up_btn"
                type="submit"
                value="Sign Up"
              >
                Create Account
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
      import {
        getAuth,
        createUserWithEmailAndPassword,
      } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyBDdyF0NNkwyP3YpVVqYFSPBSfXE3GWDGc",
        authDomain: "ctrl-plus-pg-2.firebaseapp.com",
        projectId: "ctrl-plus-pg-2",
        storageBucket: "ctrl-plus-pg-2.appspot.com",
        messagingSenderId: "14318839196",
        appId: "1:14318839196:web:e853ad856b6d8e48e81459",
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      const email = document.querySelector("#email");
      const password = document.querySelector("#password");
      const form = document.querySelector("#form");
      const sign_up_btn = document.querySelector("#sign_up_btn");

      const userSignUp = async () => {
        createUserWithEmailAndPassword(auth, email.value, password.value)
          .then((userCredential) => {
            const user = userCredential.user;
            console.log(user);
            alert("Your account has been created!");
<<<<<<< Updated upstream
            window.location.replace("sign-in.html");
=======
>>>>>>> Stashed changes
          })
          .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            console.log(errorCode + errorMessage);
          });
      };
      sign_up_btn.addEventListener("click", userSignUp);
    </script>
    <script src="script.js"></script>
  </body>
</html>
